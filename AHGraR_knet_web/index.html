<!DOCTYPE HTML>
<html>
   <head>
      <meta charset=utf-8 />
      <script type="text/javascript">
      // Load list of available projects
         window.onload = function(){
             select_menu = document.getElementById("select_proj")
             var prolist = AHGraRWebSocketConnect("proj_list");
             alert("Select"+prolist);
             console.log("Select"+prolist);
             for(var i = 0; i <= 10; i++) {
                 option = document.createElement("option");
                 option.value = "a";
                 option.innerHTML = "abc";
                 select_menu.appendChild(option);
             }
      };
         function AHGraRWebSocketConnect(request)
         {
            if ("WebSocket" in window)
            {
               var wsconn = new WebSocket("ws://146.118.99.190:7687/");
               wsconn.onopen = function () {wsconn.send(request);};
               wsconn.onopen = function() {wsconn.send(request);};
               var received_msg;
               wsconn.onmessage = function (evt){ received_msg = evt.data; console.log(received_msg);};
               return received_msg;
            }
            else
            {
               alert("WebSocket NOT supported by your Browser!");
            }
         }
      </script>
		
   </head>
   <body>
       <select id="select_proj">
       </select>
      <div id="sse">
         <a href="javascript:AHGraRWebSocketConnect('Hello')">Run WebSocket</a>
      </div>
      
   </body>
</html>
